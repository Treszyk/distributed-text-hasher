<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Distributed Text Hasher</title>
		<link
			rel="stylesheet"
			href="style.css" />
	</head>
	<body>
		<header>
			<h1>Distributed Text Hasher</h1>
			<div class="stats-bar">
				<div
					class="stat-item"
					style="margin-right: 15px">
					<label class="switch">
						<input
							type="checkbox"
							id="scalingToggle"
							onclick="toggleScaling()" />
						<span class="slider round"></span>
					</label>
					<div style="display: flex; flex-direction: column; line-height: 1">
						<span style="font-size: 12px; margin-left: 5px">Autoscaling</span>
						<span
							id="scalerStatus"
							style="
								font-size: 10px;
								margin-left: 5px;
								color: #888;
								font-style: italic;
								white-space: nowrap;
							"></span>
					</div>
				</div>
				<div class="stat-item">
					<span>Workers:</span>
					<span
						id="activeWorkers"
						class="stat-value"
						>-</span
					>
				</div>
				<div class="stat-item">
					<span>Queue:</span>
					<span
						id="queueLength"
						class="stat-value"
						>-</span
					>
				</div>
			</div>
		</header>

		<main>
			<div class="input-section">
				<input
					type="text"
					id="jobText"
					placeholder="Enter text to hash..."
					onkeypress="if(event.key==='Enter') createJob()" />
				<button onclick="createJob()">Submit</button>
				<div
					style="
						width: 1px;
						height: 20px;
						background: #ddd;
						margin: 0 5px;
					"></div>
				<button
					class="secondary"
					onclick="floodJobs(50)">
					Flood (50)
				</button>

				<div
					style="
						width: 1px;
						height: 20px;
						background: #ddd;
						margin: 0 5px;
					"></div>

				<input
					type="file"
					id="fileUpload"
					accept=".txt"
					style="display: none"
					onchange="handleFileUpload(this)" />
				<button
					class="secondary"
					onclick="document.getElementById('fileUpload').click()"
					title="Upload a .txt file with one text per line">
					Upload File
				</button>
				<button
					class="secondary"
					onclick="exportResults()"
					title="Download hashes of completed jobs">
					Export Results
				</button>
			</div>

			<div class="board-container">
				<div class="board-header">
					<span class="board-title"
						>My Jobs
						<span
							id="jobCount"
							style="font-weight: normal; color: #888"
							>(0)</span
						></span
					>
					<div>
						<button
							class="secondary"
							onclick="clearJobs()"
							style="font-size: 12px; padding: 4px 8px">
							Clear Local
						</button>
						<button
							class="danger"
							onclick="clearQueue()"
							style="font-size: 12px; padding: 4px 8px">
							Clear Server Queue
						</button>
					</div>
				</div>

				<div class="kanban-board">
					<div class="kanban-column">
						<div class="column-header status-queued">
							Queued <span id="count-queued"></span>
						</div>
						<div
							id="list-queued"
							class="job-list"></div>
					</div>
					<div class="kanban-column">
						<div class="column-header status-processing">
							Processing <span id="count-processing"></span>
						</div>
						<div
							id="list-processing"
							class="job-list"></div>
					</div>
					<div class="kanban-column">
						<div class="column-header status-done">
							Done <span id="count-done"></span>
						</div>
						<div
							id="list-done"
							class="job-list"></div>
					</div>
				</div>
			</div>
		</main>

		<script src="app.js"></script>
	</body>
</html>
